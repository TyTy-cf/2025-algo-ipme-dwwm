<script lang="js">

      // function toto(toto) {
      //     console.log(toto);
      // }
      //
      // toto(10);

      // exo 1
      function predictFutur() {
          let hour = prompt("Heure actuelle :");
          let minute = prompt("Minute actuelle :");

          hour = parseInt(hour);
          minute = parseInt(minute);

          if (minute >= 0 && minute <= 58 ) {
              minute++;
              if(hour <= 9) {
                  hour = "0" + hour;
                }
            }
            else if (minute === 59){
                minute = 0;
                hour++;
                if (minute === 0) {
                  minute = "0" + 0;
                }
          }
          else if (hour === 23) {
            hour = 0;
          }
          else {
            console.log("erreur");
          }

          console.log("Dans une minute il sera " + hour + "h" + minute);
      }
    //   predictFutur();

      // exo 2
      function reprographieStore(nbCopie){
        let price;
        let totalPrice = 0;
        if(nbCopie <= 10){
            price = 0.10;
        }
        else if(nbCopie <= 50){
              price = 0.09;
        }
        else{
              price = 0.08;
        }
        totalPrice = price * nbCopie;
        console.log(totalPrice + "€");
      }
      // reprographieStore(110);

      // exo 3
      function getAge(year) {
          let date = new Date();
          let currentYear= date.getFullYear();
          let age = currentYear - year;
        console.log("Vous avez " + age + "ans");
      }
      // getAge(1995);

      // exo 4
      function countUpToTen(startFrom){
          for (let i = startFrom + 1; i <= startFrom + 10; i++) {
              console.log(i);
          }
      }
      // countUpToTen(17);

      // exo 5
      function displayMultiply(digit) {
          for(let i = 1; i <= 12; i++) {
              console.log(`${i} X ${digit} = ${i*digit}`)
          }
      }
      // displayMultiply(3)

      // exo 6
      function addUpTo(max) {
          let sum = 0;
          for(let i = 0; i <= max; i++) {
              sum += i;
          }
          console.log(sum)
      }
      // addUpTo(5)

      // exo 7
      function displayVowels() {
          let vowels = ["a", "e", "i", "o", "u", "y"];
          for (let i = 0; i < vowels.length; i++) {
              console.log(vowels[i])
          }
      }
      // displayVowels()

      // exo 8
      function getAverage(grades) {
          let sum = 0;
          let tailleArray = grades.length;
          for(let i = 0; i < tailleArray; i++) {
              sum += grades[i];
          }
          console.log(sum/tailleArray)
      }

      // getAverage([10, 15, 15, 12, 18])
      // getAverage([14, 16, 17, 13, 10])
      // getAverage([14, 16, 17, 13, 18, 2, 14])

      // exo 9
      function addArray(first, second){
          let sumArray = [];
          if(first.length === second.length){
              for(let i = 0; i < first.length; i++) {
                      sumArray.push(first[i] + second[i]);
              }
              console.log(sumArray);
          }
          else {
              console.log("Les deux tableaux doivent faire la même longueur");
          }
      }
      // addArray([4,8,7,9,1,5,4,6], [7,6,5,2,1,3,7,4]);

      // exo 10
      function removeDuplicate(array) {
          let deleteDuplicate = [];
          for (let i = 0; i < array.length; i++) {
              if(!deleteDuplicate.includes(array[i])) {
                  deleteDuplicate.push(array[i]);
              }
              console.log(deleteDuplicate);
          }
      }
      // removeDuplicate([1, 1, 1, 2, 5, 8, 7, 5]);

      // exo 11
      function inverseWord(str) {
          // let string = str.split("");
          // console.log(string.reverse().join(""))

          let string = "";
          for(let i = str.length -1; i >= 0; i--) {
              string += str[i];
          }
          console.log(string)
      }
      // inverseWord("espion")

      // exo 12
      function isSecuredPassword(password) {
        let msg = "Le mot de passe doit contenir au moins 9 caractères et un @ ou un !";
        const symbols = ["@", "!"];
        if(password.length >= 9){
            for (let i = 0; i < symbols.length; i++) {
                if(password.includes(symbols[i])) {
                    msg = "Mot de passe correct"
                }
            }
        }
        return msg;
    }
    //   console.log(isSecuredPassword("test"));
    //   console.log(isSecuredPassword("myP@ssword"));
    //   console.log(isSecuredPassword("myP!ssword"));

    // exo 13
    function excerpt(str, from = 15){
        if(str.length > from) {
            return str.slice(0, from) + "...";
        }
        return str;
    }
    // console.log(excerpt("Bonjour"));
    // console.log(excerpt("Lorem quisque class vestibulum"));

    // exo 14
    function isPangram(str){
        const alphabet = ["a", "b", "c", "d", "e", "f", "g", "h", "i", "j", "k", "l", "m", "n", "o", "p", "q", "r", "s", "t", "u", "v", "w", "x", "y", "z"];

        let allAlphabetLetters = 0;
        for (let i = 0; i < str.length; i++) {
            if(alphabet.includes(str[i])){
                allAlphabetLetters++
                if(allAlphabetLetters === 26) {
                    return true
                }
            }
        }
        return false;
    }
  //   console.log(isPangram("The quick brown fox jumps over the lazy dog."));
  //   console.log(isPangram("Test test"));
  //   console.log(isPangram("a"));

    // exo 15
    function isRange(anArray){
        let minNum = Math.min(...anArray)
        let maxNum = Math.max(...anArray)
        return maxNum - minNum;
    }
    // console.log(isRange([98, 78, 45, 96, 12, 32, 65, 78, 12]))

    // exo 16
    function palindromes(str){
        let string = "";
        for(let i = str.length -1; i >= 0; i--) {
            string += str[i];
        }
        return str === string;
    }
    // console.log(palindromes("ressasser"))
    // console.log(palindromes("rever"))
    // console.log(palindromes("toto"))

    // exo 17
    function getScrabbleScore(str){
        let sum = 0;
        const onePoint = ["a", "e", "i", "o", "u", "l", "n", "r", "s", "t"];
        const twoPoint = ["d", "g"];
        const threePoint = ["b", "c", "m", "p"];
        const fourPoint = ["f", "h", "v", "w", "y"];
        const fivePoint = ["k"];
        const heightPoint = ["j", "x"];
        const tenPoint = ["q", "z"];
        for (let i = 0; i < str.length; i++) {
            if(onePoint.includes(str[i]) ){
                sum++;
            }
            else if (twoPoint.includes(str[i])) {
                sum += 2;
            }
            else if (threePoint.includes(str[i])){
                sum += 3;
            }
            else if (fourPoint.includes(str[i])){
                sum += 4;
            }
            else if (fivePoint.includes(str[i])){
                sum += 5;
            }
            else if (heightPoint.includes(str[i])){
                sum += 8;
            }
            else if (tenPoint.includes(str[i])){
                sum += 10;
            }
        }
        return sum;
    }
    // console.log(getScrabbleScore("lazy"))
    // console.log(getScrabbleScore("test"))
    // console.log(getScrabbleScore("aaaaa"))

    // exo 18
    function changeSentences(sentences) {
    const vowels = ["a", "e", "i", "o", "u", "y"];
    let newSentences = "";
    for (let i = 0; i < sentences.length; i++) {
      const currentChar = sentences[i];
      newSentences += currentChar;
      if (vowels.includes(currentChar)) {
        newSentences += `fe${currentChar}`;
      }
    }
    console.log(newSentences);
    }
    // changeSentences("chat");

    // exo 19
    function encrypt(str, gap) {
        const alphabet = ["a", "b", "c", "d", "e", "f", "g", "h", "i", "j", "k", "l", "m", "n", "o", "p", "q", "r", "s", "t", "u", "v", "w", "x", "y", "z"];
        let newSentences = "";

        for (let i = 0; i < str.length; i++) {
            let char = str[i];
            let alphabetIndex = (alphabet.indexOf(char) + gap) % 26;
            newSentences += alphabet[alphabetIndex];
        }
        return newSentences;
    }
    // console.log(encrypt("chat", 3));
    // console.log(encrypt("chatz", 3));

    function decrypt(str, gap) {
        const alphabet = ["a", "b", "c", "d", "e", "f", "g", "h", "i", "j", "k", "l", "m", "n", "o", "p", "q", "r", "s", "t", "u", "v", "w", "x", "y", "z"];
        let newSentences= "";

        for (let i = 0; i < str.length; i++) {
            let char = str[i];
            let alphabetIndex = (alphabet.indexOf(char) - gap + alphabet.length) % 26;
            newSentences += alphabet[alphabetIndex];
        }
        return newSentences;
    }
    // console.log(decrypt("fkdw", 3));
    // console.log(decrypt("fkdwa", 3));

    function encryptDescrypt(str, gap, encrypt){
        const alphabet = ["a", "b", "c", "d", "e", "f", "g", "h", "i", "j", "k", "l", "m", "n", "o", "p", "q", "r", "s", "t", "u", "v", "w", "x", "y", "z"];
        let newSentences= "";

        for (let i = 0; i < str.length; i++) {
            let char = str[i];
            let alphabetIndex;
            if(encrypt){
                alphabetIndex = (alphabet.indexOf(char) + gap) % 26;
            }
            else {
                alphabetIndex = (alphabet.indexOf(char) - gap + alphabet.length) % 26;
            }
            newSentences += alphabet[alphabetIndex];
        }
        return newSentences;
    }
    // console.log(encryptDescrypt("chat", 3, true));
    // console.log(encryptDescrypt("chatz", 3, true));
    // console.log(encryptDescrypt("fkdw", 3, false));
    // console.log(encryptDescrypt("fkdwa", 3, false));

    // exo 20
    function calculateHypotenuse(h, w){
        let hypotenuse = Math.hypot(h, w);
        return hypotenuse;
    }
    // console.log(calculateHypotenuse(3, 4));

    // exo 21
    function getGain(nbSubscribers){
        let gain = (4.99 * nbSubscribers);
        let pourcentage;
        if(nbSubscribers < 100){
            pourcentage = (40 / 100) * gain;
        }
        else if(nbSubscribers < 500){
            pourcentage = (25 / 100) * gain;
        }
        else if(nbSubscribers < 1000){
            pourcentage = (15 / 100) * gain;
        }
        else {
            pourcentage = (5 / 100) * gain;
        }
        return pourcentage;
    }
    // console.log(getGain(99));

    // exo 22
    function displayHoursByTime(time){
        let hour;
        let min;
        hour = time / 3600;
        hour = parseFloat(hour).toFixed(2);
        min = (hour + "").split(".")[1];
        min /= 100;
        min *= 60;
        hour = Math.trunc(hour);
        min = Math.round(min);
        if(hour < 10){
            hour = '0' + hour;
        }
        if(min < 10){
            min = '0' + min;
        }
        return `${hour}h${min}`;
    }
    // console.log(displayHoursByTime(5400));

    // exo 23
    function getLettersBy(str){
        const vowels = ["a", "e", "i", "o", "u", "y"];

        let nbVowles = 0;
        let nbConsonants = 0;

        for(let i = 0; i < str.length; i++){
            if(vowels.includes(str[i])) {
                nbVowles++;
            }
            else {
                nbConsonants++;
            }
        }
        return `Il y a ${nbVowles} voyelles et ${nbConsonants} consonnes dans la chaine de caractères "${str}"`;
    }
    // console.log(getLettersBy("dobry wieczor"));

    // exo 24
    function generateLetters(){
        const vowels = ["a", "e", "i", "o", "u", "y"];
        const consonants = ["b", "c", "d", "f", "g", "h", "j", "k", "l", "m", "n", "p", "q", "r", "s", "t", "v", "w", "x", "z"];
        let sentence = [];
        while(sentence.length < 9){
            let letter = prompt("Consonne ou voyelle ? c ? v ?");
            if(letter === "c"){
                sentence.push(consonants[Math.floor(Math.random() * consonants.length)]);
            }
            if(letter === "v") {
                sentence.push(vowels[Math.floor(Math.random() * vowels.length)]);
            }
        }
        return sentence;
    }
    // console.log(generateLetters());

    // exo 25
    function mastermind(){
        let refArray = [];
        let userArray = [];
        let totalArray = [];

        while(refArray.length < 4){
            refArray.push(Math.floor(Math.random() * 5)+1)
        }
        while(userArray.length < 4){
            let num = parseInt(prompt("Entrez une nombre entre 1 et 5"));
            if(num >= 1 && num <= 5){
                userArray.push(num);
            }
        }

        for (let i = 0; i < refArray.length; i++) {
            if(refArray[i] === userArray[i]){
                totalArray.push(refArray[i]);
            }
            else {
                totalArray.push("x");
            }
        }
        console.log(totalArray);

        // console.log("Tableau à trouver: " + refArray);
        // console.log("Tableau saisie: " + userArray);
        // console.log("Tableau de réponse: " + totalArray);

        let i = 0;
        while(i < 5){
            for(let i = 0; i < totalArray.length; i++) {
                if(totalArray[i] === "x"){
                    let num = parseInt(prompt(`Entrez une nombre entre 1 et 5 pour la position ${i + 1}`));
                    if((num >= 1 && num <= 5) && (refArray[i] === num)){
                        totalArray[i] = num;
                    }
                }
                else if (!totalArray.includes("x")){
                    console.log("Bravo vous avez gagné !");
                    return totalArray;
                }
            }
            console.log(totalArray)
            i++;
        }
        return totalArray;
    }
    console.log(mastermind());
</script>
