<script lang="js">

    // function toto(toto) {
    //     console.log(toto);
    // }

    // toto(10);

    //1)
    function future(hour, min, minJump = 1)
    {
        let result = "";
        let addedHour = Math.floor((min + minJump)/ 60);

        result += ((hour + addedHour) % 24) +"h";

        let newMin = (min + minJump)%60;
        result += ((newMin < 10)? "0" : "") + newMin + "min";
        return result;
    }

    // let hour = parseInt(prompt("Heure ?"));
    // let min = parseInt(prompt("Minutes ?"));
    // let time = parseInt(prompt("Temps passé ? (en min)"));

    //console.log(future(hour, min, time));

    //2)
    function totalPrice(nb)
    {
        let individualPrice;
        if(nb <= 10)
        {
            individualPrice = 0.10;
        }
        else if (nb <= 100)
        {
            individualPrice = 0.09;
        }
        else
        {
            individualPrice = 0.08;
        }
        return individualPrice * nb;
    }


    // let nbCopy = parseInt(prompt("Nombre de copies ?"));
    // console.log(totalPrice(nbCopy) + "€");

    //3)
    function getAge(birthYear)
    {
        let currentYear = parseInt(new Date().getFullYear());
        return currentYear - birthYear;
    }
    // let birthYear = parseInt(prompt("Age de naissance ?"));
    // console.log(getAge(birthYear));

    //4)
    function countUpToTen(startFrom)
    {
        for (let i = 1; i <= 10; i++)
        {
            console.log(startFrom + i);
        }
    }

    // countUpToTen(17);

    //5)
    function displayMultiply(digit)
    {
        for (let i = 1; i <= 12; i++)
        {

            console.log(i + " x " + digit + " = " + (digit * i));
        }
    }

    // displayMultiply(10);

    //6)
    function addUpTo(max)
    {
        let total = 0;
        for (let i = 1; i <= max; i++)
        {
            total += i;
        }
        return total;
    }

    // console.log(addUpTo(5));

    //7)
    function displayVoyels()
    {
        const voyels = ['a', 'e', 'i', 'o', 'u', 'y'];
        voyels.forEach(letter =>
        {
            console.log(letter);
        });
    }

    // displayVoyels();

    //8)
    function getAverage(grades)
    {
        let total = 0;
        for (let i = 0; i < grades.length; i++)
        {
            total += grades[i];
        }
        return total/grades.length;
    }
    // let grades = [10, 15, 15, 20];
    // console.log(getAverage(grades));

    //9)
    function addArray(first, second)
    {
        if(first.length != second.length)
        {
            console.log("ERREUR : LES TABLEAUX N'ONT PAS LA MEME LONGUEUR")
            return;
        }

        let newArray = new Array(first.length);
        for (let i = 0; i < first.length; i++)
        {
            newArray[i] = first[i] + second[i];
        }
        return newArray;
    }

    // arr1 = [1,2,3];
    // arr2 = [1,2,3,4];
    // console.log(addArray(arr1, arr2));
    // arr3 = [1,2,3];
    // arr4 = [1,2,3];
    // console.log(addArray(arr3, arr4));

    //10)

    function removeDuplicate(array)
    {
        let newArray = new Array();
        for (let i = 0; i < array.length; i++)
        {
            let isDuplicate = false;
            for (let j = 0; j < newArray.length; j++)
            {
                if(newArray[j] === array[i])
                {
                    isDuplicate = true;
                }
            }
            if(!isDuplicate)
            {
                newArray.push(array[i]);
            }
        }
        return newArray;
    }

    //let array = [0, 9, 1, 1, 5, 8, 3, 3, 3, 12, 11, 11, 8, 9];

    //console.log(new Set(array));
    // console.log(removeDuplicate(array));

    //11)

    function inverseWord(str)
    {
        let newStr = "";
        for (let i = str.length - 1; i >= 0; i--) 
        {
            newStr += str[i];
        }
        return newStr;
    }
    // let str = "Hello World !";
    // console.log(inverseWord(str));

    //12)
    function isSecuredPassword(password)
    {
        stars = "";
        for (let i = 0; i < password.length; i++)
        {
            stars += "*";
        }
        console.log(stars);
        return password.length >= 9 && String(password).includes('@') && String(password).includes('!');
    }

    // console.log(isSecuredPassword("1234")? "is a secured password":"is not a secured password");
    // console.log(isSecuredPassword("123456789@")? "is a secured password":"is not a secured password");
    // console.log(isSecuredPassword("123456789@!")? "is a secured password":"is not a secured password");

    //13)

    function excerpt(str, from = 15) 
    {
        if (str.length <= from) 
        {
            return str;    
        }
        return String(str).substring(0, from) + "...";
    }

    // console.log(excerpt("Hello world!"));
    // console.log(excerpt("Lorem quisque class vestibulum"));

    //14)
    function isPangram(str) 
    {
        let lowerStr = String(str).toLowerCase().s;
        let alphabet = ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z'];
        for (let i = 0; i < lowerStr.length; i++) 
        {
            if(alphabet.includes(lowerStr[i]))
            {
                alphabet.splice(alphabet.indexOf(lowerStr[i]), 1);
            }
        }
        console.log(alphabet);
        return alphabet.length === 0;
    }

    // console.log(isPangram("Hello world"))
    // console.log(isPangram("The quick brown fox jumps over the lazy dog."))

    //15)
    function getRange(array) 
    {
        let min = Number.MAX_SAFE_INTEGER;
        let max = Number.MIN_SAFE_INTEGER;
        for (let i = 0; i < array.length; i++)
        {
            if (min > array[i])
            {
                min = array[i];
            }
            if (max < array[i])
            {
                max = array[i];
            }
        }
        return max - min;
    }
    // console.log(getRange([15, 78, 45, 96, 12, 32, 65, 78, 91]));

    //16)
    function isPalindrome(str) 
    {
        let newStr = str;
        newStr = String(newStr).replace('ê','e');
        newStr = String(newStr).replace('é','e');
        newStr = String(newStr).replace('è','e');
        newStr = String(newStr).replace('à','a');
        newStr = String(newStr).replace('ç','c');
        // console.log(newStr);
        for (let i = 0; i < newStr.length/2; i++)
        {
            if (newStr[i] != newStr[newStr.length - 1 - i]) 
            {
                return false;
            }
        }
        return true;
    }

    // console.log(isPalindrome("ressasser"));
    // console.log(isPalindrome("rêver"));
    // console.log(isPalindrome("toto"));

    //17)

    function getScrabbleScore(str) 
    {
        let points1 = ["A", "E", "I", "O", "U", "L", "N", "R", "S", "T"];
        let points2 = ["D", "G"];
        let points3 = ["B", "C", "M", "P"];
        let points4 = ["F", "H", "V", "W", "Y"];
        let points5 = ["K"];
        let points8 = ["J", "X"];
        let points10 = ["Q", "Z"];

        let score = 0;
        let strUp = String(str).toUpperCase();
        for (let i = 0; i < str.length; i++)
        {
            if (points1.includes(strUp[i])) 
            {
                score += 1;
            }
            else if (points2.includes(strUp[i])) 
            {
                score += 2;
            }
            else if (points3.includes(strUp[i])) 
            {
                score += 3;
            }
            else if (points4.includes(strUp[i])) 
            {
                score += 4;
            }
            else if (points8.includes(strUp[i])) 
            {
                score += 8;
            }
            else if (points10.includes(strUp[i])) 
            {
                score += 10;
            }
        }
        return score;
    }

    // console.log(getScrabbleScore("lazy"));


    //18)
    function changeSentence(mot)
    {
        const voyels = ['a', 'e', 'i', 'o', 'u', 'y'];
        let newMot = "";
        for (let i = 0; i < mot.length; i++) 
        {
            newMot += mot[i];
            for(let j = 0; j < voyels.length; j++)
            {
                if(mot[i] === voyels[j])
                {
                    newMot += "fe" + mot[i];
                    j = voyels.length;
                }
            }
        }
        return newMot;
    }

    // console.log(changeSentence("chat"));

    //19)
    function cesarCrypt(str, gap = 3, mode = true) 
    {
        let alphabet = ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z'];
        let newStr = "";
        let modeFactor = mode? 1:-1; 
        for (let i = 0; i < str.length; i++)
        {
            newStr += alphabet[(alphabet.indexOf(str[i]) + (modeFactor * gap)) % 26];
        }
        return newStr;
    }

    // console.log(cesarCrypt("chat"));
    // console.log(cesarCrypt("fkdw", 3, false));
    // console.log(cesarCrypt(cesarCrypt("koala"), 3, false));

    //20)
    function calculateHypotenuse(h, w) 
    {
        return Math.sqrt(h*h + w*w);
    }

    //console.log(calculateHypotenuse(5, 2));

    //21)
    function getGain(nbSubscribers) 
    {
        let totalGains = nbSubscribers * 4.99;
        let platformGain = 0;
        if (nbSubscribers < 100)
        {
            platformGain = totalGains * 0.4;
        }
        else if (nbSubscribers < 500)
        {
            platformGain = totalGains * 0.25;
        }
        else if (nbSubscribers < 1000)
        {
           platformGain = totalGains * 0.15;
        }
        else
        {
            platformGain= totalGains * 0.05;
        }
        let streamerGains = totalGains - platformGain;

        return "Sur " + totalGains + "$ le streamer gagne " + streamerGains + "$ et la plateforme gagne " + platformGain + "$";  
    }

    // console.log(getGain(10));
    // console.log(getGain(200));
    // console.log(getGain(600));
    // console.log(getGain(2000));

    //22)
    function displayHoursByTime(timeInSec) 
    {
        let min  = timeInSec/60;
        let hours  = min/60;

        return Math.floor(hours) + "h " + ((min < 10)? "0" : "") + (Math.floor(min) % 60) + "min " + timeInSec % 60 + "sec";
    }

    // console.log(displayHoursByTime(70));
    // console.log(displayHoursByTime(7000));
    // console.log(displayHoursByTime(200000));

    //23)
    function getLettersBy(str) 
    {
        const vowels = "aeiouy";
        const consonants = "zrtpqsdfghjklmwxcvbn";
        let nbVowels = 0;
        let nbConsonant = 0;
        const lowStr = str.toLowerCase();
        for (let i = 0; i < lowStr.length; i++)
        {
            if (vowels.includes(lowStr[i]))
            {
                nbVowels++;
            }
            else if (consonants.includes(lowStr[i]))
            {
                nbConsonant++;
            }
        }

        return "Dans " + str + " il y a " + nbVowels + " voyelles et " + nbConsonant + " consonnes";
    }

    //console.log(getLettersBy("Dobry wieczor"));

    //24)
    function generateLetters()
    {
        const vowels = "aeiouy";
        const consonants = "zrtpqsdfghjklmwxcvbn";

        let str = [];
        while (str.length < 9)
        {
            let choice = prompt("Consonne ou voyelle ? C/V");
            if (choice.toLowerCase() === 'c')
            {
                str.push(consonants[Math.floor(Math.random() * consonants.length)]);
            }
            else if (choice.toLowerCase() === 'v')
            {
                str.push(vowels[Math.floor(Math.random() * vowels.length)]);
            }
            else
            {
                console.log("Mauvais input, recommencez :");
            }
        }
        return str;
    }

    //console.log(generateLetters());

    //25)
    
    function randomRange(first, last) 
    {
        return first + Math.floor(Math.random() * last);
    }
    
    function mastermind(difficulty) 
    {
        let original = [];
        for (let i = 0; i < difficulty; i++)
        {
            original.push(randomRange(1, difficulty));
        }

        console.log(original);
        console.log("Vous avez " + difficulty + " essais");
        for (let nbTry = 1; nbTry <= difficulty; nbTry++)
        {
            let guess = [];
            console.log("Essai n°" + nbTry);
            for (let i = 0; i < difficulty; i++)
            {
                guess.push(parseInt(prompt("nombre " + (i+1) + ":")));
            }
    
            let result = [];
            let isSame = true;
            for (let i = 0; i < original.length; i++)
            {
                if (original[i] === guess[i])
                {
                    result.push(original[i]);
                }
                else
                {
                    result.push("X");
                    isSame = false;
                }
            }
            console.log(result);
            if (isSame)
            {
                console.log("Vous avez gagné !!!.");
                return;
            }
        }
        console.log("Vous avez perdu.");
    }
    
    mastermind(prompt("Difficulté ?"));
</script>
