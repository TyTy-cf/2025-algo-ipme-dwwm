<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Exos</title>
		<style>
			body {
				background-color: #222;
			}
		</style>
	</head>
</html>
<script>
	// preditAvenir();

	// console.warn('calculPriceBy');
	// calculPriceBy(45);
	// calculPriceBy('gello');

	// console.log(' ');
	// console.warn('getAge');
	// getAge('thierry');
	// getAge(1940);
	// getAge(2030);

	// console.log(' ');
	// console.warn('countUpToTen');
	// countUpToTen();
	// countUpToTen(true);
	// countUpToTen(13);

	// console.log(' ');
	// console.warn('displayMultiply');
	// displayMultiply();
	// displayMultiply(true);
	// displayMultiply(3);

	// console.log(' ');
	// console.warn('addUpTo');
	// addUpTo(1);
	// addUpTo(13);
	// addUpTo(14);

	// console.log(' ');
	// console.warn('displayVowels');
	// displayVowels();

	// console.log(' ');
	// console.warn('moyenne');
	// moyenne();
	// moyenne([]);
	// moyenne([10, 14, 49, 27]);

	// console.log(' ');
	// console.warn('addArray');
	// addArray([10, 11], [1, 2]);
	// addArray([42 ** 4], [20895 ** 6]);

	// console.log(' ');
	// console.warn('changeSentences');
	// changeSentences('Gros rythme.');
	// changeSentences('Comment il va en vrai ?');
	// changeSentences('La femelle oiseau √† cr√©√©e un n√Æt.');

	// console.log(' ');
	// console.warn('changeSentencesAlt');
	// changeSentencesAlt('Gros rythme.');
	// changeSentencesAlt('Comment il va en vrai ?');
	// changeSentencesAlt('La femelle oiseau √† cr√©√©e un n√Æt.');

	// console.log(' ');
	// console.warn('isSecuredPassword');
	// console.log(isSecuredPassword('Gros rythme.'));
	// console.log(isSecuredPassword('password@gmail.com!'));
	// console.log(isSecuredPassword('@!'));

	// console.log(' ');
	// console.warn('removeDuplicate');
	// console.log(removeDuplicate([]));
	// console.log(removeDuplicate([1, 2, 2, 4, 5, 2, 1, 2, 1, 6]));

	// console.log(' ');
	// console.warn('inverseWord');
	// console.log(inverseWord('hello world'));

	// console.log(' ');
	// console.warn('getRange');
	// console.log(getRange([4, 9, 199, 27]));
	// console.log(getRange([9, 3, 'ok', 1]));
	// console.log(getRange([-(9372 ** 24), 2 ** 24]));

	// console.log(' ');
	// console.warn('isPangram');
	// console.log(isPangram(''));
	// console.log(isPangram('hello woreld'));
	// console.log(isPangram('The quick brown fox jumps over the lazy dog'));

	// console.log(' ');
	// console.warn('isPalindrome');
	// console.log(isPalindrome(''));
	// console.log(isPalindrome('hello woreld'));
	// console.log(isPalindrome('ressasser'));
	// console.log(isPalindrome('radar'));

	console.log(' ');
	console.warn('getScrabbleScore');
	console.log(getScrabbleScore(''));
	console.log(getScrabbleScore('hello woreld'));
	console.log(getScrabbleScore('ressasser'));
	console.log(getScrabbleScore(3));

	mastermind();

	//
	// Fn
	//

	// 1
	function preditAvenir() {
		const { prompt, parseInt, location } = window;

		let heure = parseInt(prompt("Saisissez l'heure actuelle"));

		if (isNaN(heure) || heure < 0 || heure > 23) {
			alert('Heure incorrect');
			location.reload();
		}

		let minutes = parseInt(prompt('Saisissez les minutes actuelle'));

		if (isNaN(minutes) || minutes < 0 || minutes > 59) {
			alert('Minutes incorrect');
			location.reload();
		}

		if (heure === 23 && minutes === 59) {
			minutes = 0;
			heure = 0;
		} else if (minutes === 59) {
			minutes = 0;
			heure++;
		} else {
			minutes++;
		}

		if (heure < 10) {
			heure = '0' + heure;
		}
		if (minutes < 10) {
			minutes = '0' + minutes;
		}

		setTimeout(() => {
			alert(`Il est ${heure}h${minutes} !`);
		}, 1000 * 60);

		alert(`Vous serez notifi√© dans une minute`);
	}

	// 2
	function calculPriceBy(amount) {
		if (window.isNaN(amount) || amount <= 0) {
			console.info("La quantit√© n'est pas bonne");
			return;
		}

		let total = 0;

		if (amount > 100) {
			total = amount * 0.08;
		} else if (amount > 50) {
			total = amount * 0.09;
		} else {
			total = amount * 0.1;
		}

		console.log(`Votre total: ${total}e`);
	}

	// 3
	function getAge(year) {
		const currentYear = new Date().getFullYear();
		const userYear = window.parseInt(year);

		if (window.isNaN(year)) {
			console.info("L'ann√©e n'est pas un nombre");
			return;
		}
		if (userYear > currentYear) {
			console.info("Vous n'√™tes visiblement pas encore n√©.e");
			return;
		}

		const result = currentYear - userYear;

		console.log(`Vous avez ${result} ans !`);
	}

	// 4
	function countUpToTen(startFrom) {
		if (typeof startFrom !== 'number') {
			console.info('Pas un nombre');
			return;
		}

		console.log(startFrom + 1);
		console.log(startFrom + 2);
		console.log(startFrom + 3);
		console.log(startFrom + 4);
		console.log(startFrom + 5);
		console.log(startFrom + 6);
		console.log(startFrom + 7);
		console.log(startFrom + 8);
		console.log(startFrom + 9);
		console.log(startFrom + 10);
		console.log('üëç');
	}

	// 5
	function displayMultiply(digit) {
		if (typeof digit !== 'number') {
			console.info('Pas un nombre');
			return;
		}

		digit = window.parseInt(digit);

		for (let i = 1; i <= 12; i++) {
			console.log(`${digit} √ó ${i} = ${digit * i}`);
		}
	}

	// 6
	function addUpTo(max) {
		console.log(Array.from(Array(max), (_, i) => i + 1).reduce((a, b) => a + b));
	}

	// 7
	function displayVowels() {
		// console.log(Array.from(Array(26), (_, i) => String.fromCharCode(i + 97)).filter((char) => 'aeiouy'.split('').includes(char)));
		console.log('aeiouy'.split(''));
	}

	// 8
	function moyenne(grades) {
		if (Array.isArray(grades)) {
			grades.unshift(grades.length);
			grades.unshift(0);

			while (grades.length > 2) {
				grades[0] += grades[grades.length - 1] / grades[1];
				grades.pop();
			}

			grades.pop();
		}

		console.log(grades);
	}

	// 9
	function addArray(arr1, arr2) {
		if (arr1.length === arr2.length) {
			for (let i = 0; i < arr1.length; i++) {
				arr1[i] += arr2[i];
			}

			console.log(arr1);
		}
	}

	// 10
	function removeDuplicate(array) {
		// Remove duplicate comme en 1979

		const result = [];
		let arrayLength = 0;
		let resultLength = 0;
		let isDuplicate = false;
		let ii = 0;
		let jj = 0;

		// Get array length
		while (array[arrayLength]) {
			arrayLength++;
		}

		// For array length
		while (array[ii]) {
			// For result length or found duplicate
			while (!(isDuplicate || jj >= resultLength)) {
				if (array[ii] === result[jj]) {
					isDuplicate = true;
				} else {
					jj++;
				}
			}

			// Add
			if (isDuplicate === false) {
				result[resultLength] = array[ii];
				resultLength++;
			}

			isDuplicate = false;
			jj = 0;
			ii++;
		}

		return result;
	}

	// 11
	function inverseWord(str = '', inv = '') {
		if (inv.length < str.length) {
			inv = inverseWord(str, inv + str[str.length - inv.length - 1]);
		}

		return inv;
	}

	// 12
	function isSecuredPassword(password) {
		if (typeof password === 'string' && password.length >= 9) {
			let at, exc, i;

			for (i = 0; i < password.length; i++) {
				if (password[i] === '!') {
					exc = true;
				}
				if (password[i] === '@') {
					at = true;
				}
				if (at && exc) {
					return true;
				}
			}
		}

		return false;
	}

	// 13
	function excerpt(str, from) {
		return '';
	}

	// 14
	function isPangram(str = '') {
		let occ, i;

		for (i = 0, occ = 0; i < str.length; i++) {
			if (str.toLowerCase().includes('abcdefghijklmnopqrstuvwxyz'[i])) {
				occ++;
			}
		}

		return occ === 26;
	}

	// 15
	function getRange(arr) {
		const len = arr.length;
		let min = arr[0];
		let max = arr[0];

		for (let ii = 0; ii < len; ii++) {
			if (isNaN(arr[ii])) {
				console.info('NaN d√©tect√©');
				return NaN;
			}

			if (arr[ii] < min) {
				min = arr[ii];
			}
			if (arr[ii] > max) {
				max = arr[ii];
			}
		}

		return max - min;
	}

	// 16
	function isPalindrome(str = '') {
		const half = window.parseInt(str.length / 2);
		let matches = 0;

		for (let i = 0; i < half; i++) {
			const end_i = str.length - i - 1;
			const end = str[end_i];
			const start = str[i];

			if (start === end) {
				matches++;
			}
		}

		return str.length > 1 && matches === half;
	}

	// 17
	function getScrabbleScore(str = '') {
		if (typeof str !== 'string') {
			console.info('Not a string');
			return;
		}

		let score = 0;

		for (const char of str.toUpperCase()) {
			switch (char) {
				case 'A':
				case 'E':
				case 'I':
				case 'O':
				case 'U':
				case 'L':
				case 'N':
				case 'R':
				case 'S':
				case 'T':
					score++;
					break;

				case 'D':
				case 'G':
					score += 2;
					break;

				case 'B':
				case 'C':
				case 'M':
				case 'P':
					score += 3;
					break;

				case 'F':
				case 'H':
				case 'V':
				case 'W':
				case 'Y':
					score += 3;
					break;

				case 'K':
					score += 5;
					break;

				case 'J':
				case 'X':
					score += 8;
					break;

				case 'Q':
				case 'Z':
					score += 10;
					break;

				default:
			}
		}

		return score;
	}

	// 18
	function changeSentences(sentence) {
		const voyelles = 'AEIOUYa√†e√©√®√™i√Øou√πy'.split('');
		let result = '';

		for (let i = 0; i < sentence.length; i++) {
			const char = sentence[i];
			const isVoyelle = voyelles.includes(char);

			if (isVoyelle) {
				result += char + 'fe';
			} else {
				result += char;
			}
		}

		return result;
	}

	// 18 bis
	function changeSentencesAlt(sentence) {
		return sentence
			.split('')
			.reduce((acc, char) => (acc += char + ('AEIOUYa√†e√©√®√™i√Øou√πy'.split('').includes(char) ? 'fe' : '')));
	}

	// 19
	function encrypt(str, gap) {
		// ...
	}

	// 19 bis
	function decrypt(str, gap) {
		// ...
	}

	// 20
	function calculateHypotenuse(w = 0, h = 0) {
		return Math.sqrt(h ** 2 + w ** 2);
	}

	// 21
	function getGain(nbSubscribers = 0) {
		if (nbSubscribers > 1000) {
			return nbSubscribers * 4.99 * 0.05;
		} else if (nbSubscribers > 500) {
			return nbSubscribers * 4.99 * 0.15;
		} else if (nbSubscribers > 100) {
			return nbSubscribers * 4.99 * 0.25;
		} else {
			return nbSubscribers * 4.99 * 0.4;
		}
	}

	// 22
	function getLettersBy(str = '') {}

	// 25
	function mastermind() {
		let computerArray = [];
		let guessing = true;
		let running = true;
		let i = 0;

		while (running) {
			let display = '';
			let valid = 0;
			let tries = 0;

			// Create guessing array
			for (i = 0; i < 4; i++) {
				const ran = Math.round(Math.random() * 5) + 1;
				computerArray.push(ran);
			}

			while (guessing) {
				let userArray = [];

				// Let user guess
				for (i = 0; i < 4; i++) {
					const chiffre = parseInt(prompt(`Choisissez le chiffre ${i + 1}`));
					userArray.push(chiffre);
				}

				// Compare result
				for (i = 0; i < 4; i++) {
					if (computerArray[i] === userArray[i]) {
						display += computerArray[i] + ', ';
						valid++;
					} else {
						display += 'x, ';
					}
				}

				display = '[' + display + ']';
				alert(display);

				tries++;
				display = '';
				userArray = [];

				if (valid === 4) {
					alert('Vous avez gagn√© !');
					computerArray = [];
					guessing = false;
				} else if (tries === 5) {
					alert('Vous avez perdu !');
					computerArray = [];
					guessing = false;
				}
			}

			if (prompt('(R)ejouer ?') !== 'R') {
				running = false;
			}
		}
	}
</script>
